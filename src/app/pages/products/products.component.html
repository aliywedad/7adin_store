<html dir="rtl" lang="ar">
  <mat-card class="cardWithShadow">
    <mat-card-content class="mat-card-content">
      <mat-card-title class="title">قائمة المنتجات</mat-card-title>

      <div class="row mb-3">
        <div class="col-8">
          <input class="search" placeholder="ابحث عن منتج" />
        </div>
        <div class="col-4 text-end">
          <button class="search-btn">
            إضافة منتج
          </button>
        </div>
      </div>

      <div class="table-responsive">
        <table class="table table-hover">
          <!-- Table Head -->
          <thead>
            <tr>
              <th scope="col">الاسم</th>
              <!-- <th scope="col">الوصف</th> -->
              <th scope="col">السعر</th>
              <!-- <th scope="col">التصنيف</th> -->
              <th scope="col"> المخزون</th>
              <th class="text-nowrap" scope="col">تاريخ الإنشاء</th>
              <th scope="col" class="text-center">إجراءات</th>
            </tr>
          </thead>

          <!-- Table Body -->
          <tbody>
            <tr *ngFor="let product of products; trackBy: trackById" class="align-middle">
              <!-- ID Column -->
 
              <td>{{ product.name }}</td>
              <!-- <td>{{ product.description }}</td> -->
              <td>{{ product.price }} MRU</td>
              <!-- <td>{{ product.nameCategory }}</td> -->
              <td>{{ product.stockQuantity }}</td>
              <td>{{ product.created_at | date: 'shortDate' }}</td>

              <!-- Actions Column with Menu -->
              <td class="text-center">
                <button
                  mat-icon-button
                  [matMenuTriggerFor]="menu"
                  aria-label="خيارات المنتج"
                  class="p-0 m-0"
                >
                  <mat-icon>more_vert</mat-icon>
                </button>
                <mat-menu #menu="matMenu">
                  <button mat-menu-item (click)="OpenAddProductDilog()">
                    <mat-icon>add</mat-icon>
                    <span>إضافة</span>
                  </button>
                  <button mat-menu-item (click)="OpenEditProductDilog(product)">
                    <mat-icon>edit</mat-icon>
                    <span>تعديل</span>
                  </button>
                  <button mat-menu-item (click)="deleteProduct(product.idProduct)">
                    <mat-icon>delete</mat-icon>
                    <span>حذف</span>
                  </button>
                </mat-menu>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </mat-card-content>
  </mat-card>
</html>
